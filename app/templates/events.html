{% extends "base.html" %}
{% block content %}
<!DOCTYPE html>
<head>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<style>
.container{
    padding:20px;
    margin-top:100px;
    max-width:500px;
    text-align:left;
    background-color: #fafafa;
    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
    padding:10px;
}

a.delete {
   background-color: gray;
   color: white;
   cursor: pointer;
   width: 85px;
   border-radius: 14px;
   padding: 8px 12px;
   margin: 8px 0;
   float: right;
   margin-top:-50px;
   font-size: 10px;
   text-align: center;
}

a.edit {
   background-color: #1E99FF;
   color: white;
   cursor: pointer;
   width: 85px;
   border-radius: 14px;
   padding: 8px 12px;
   margin: 8px 0;
   float: right;
   margin-top:-75px;
   font-size: 10px;
   text-align:center;
}

.button-events {
   background-color: #1E90FF;
   color: white;
   cursor: pointer;
   width: auto;
   border-radius: 14px;
   padding: 8px 12px;
   margin: 8px 0;
   border: none;
}

.event {
  background-color: white;
  padding: 10px;
  margin-bottom: 10px;
}
</style>

<body>
    <div class="container">
        <h1 style="text-align:center;">Events</h1></br>
        {% if events %}
            <div class="events">
                {%for event in events%}
                <div class="event">
                <h4><a href="{{ url_for('display_event', id = event._id) }}">{{event.name}}</a></h4>
                <hr class="w3-clear">
                {% set datetime1 = (event.start|string).split(' ') %}
              <h6>Start Date: {{datetime1[0]}} at {{datetime1[1].split(':')[0]}}:{{datetime1[1].split(':')[1]}}</h6>
              {% set datetime2 = (event.end|string).split(' ') %}
              <h6>End Date: {{datetime2[0]}} at {{datetime2[1].split(':')[0]}}:{{datetime2[1].split(':')[1]}}</h6>
                <p><b>Event Description</b></p>
                <p>{{event.description}}</p>
                <br>
                {% if event.host == me._id %}
                <a href="{{url_for('edit_event', eventId = event._id)}}" class="edit">Edit Event</a></p>
                <a href="{{url_for('delete_event', id = event._id)}}" class="delete">Delete Event</a></p>
                {% endif %}
              </div>
                {% endfor %}
            </div>
        {% else %}
        <h4 style="text-align: center">You are currently not involved in any events.</h4>
        <h5 style="text-align: center"><button class="button-events" onclick="window.location.href = '/create-event';">Create an event</button></h5>
        <p>
        {% endif %}
    </div>
{% endblock %}
</body>
</html>
